{"remainingRequest":"/Users/xsk-walter/Shjy/box-thunk/node_modules/babel-loader/lib/index.js!/Users/xsk-walter/Shjy/box-thunk/node_modules/eslint-loader/index.js??ref--14-0!/Users/xsk-walter/Shjy/box-thunk/src/utils/request.js","dependencies":[{"path":"/Users/xsk-walter/Shjy/box-thunk/src/utils/request.js","mtime":1664162388990},{"path":"/Users/xsk-walter/Shjy/box-thunk/babel.config.js","mtime":1663560092529},{"path":"/Users/xsk-walter/Shjy/box-thunk/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xsk-walter/Shjy/box-thunk/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xsk-walter/Shjy/box-thunk/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIGF4aW9z5bCB6KOFCiAqIOivt+axguaLpuaIquOAgeWTjeW6lOaLpuaIquOAgemUmeivr+e7n+S4gOWkhOeQhgogKi8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtdWkiOyAvLyBpbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKLy8gaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJwoKLyoqCiAqIOivt+axguWksei0peWQjueahOmUmeivr+e7n+S4gOWkhOeQhgogKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzIOivt+axguWksei0peeahOeKtuaAgeeggQogKi8KCmNvbnN0IGVycm9ySGFuZGxlID0gKHN0YXR1cywgcmVzcG9uc2UpID0+IHsKICAvLyDnirbmgIHnoIHliKTmlq0KICBpZiAoc3RhdHVzID09IDQwMSkgewogICAgLy8gNDAxOiB0b2tlbuWkseaViO+8jOi3s+i9rOeZu+W9lemhtQogICAgLy8gc3RvcmUuZGlzcGF0Y2goJ0xvZ091dCcpLnRoZW4oKCkgPT4gewogICAgLy8gbG9jYXRpb24uaHJlZiA9ICcvIy9ob21lP2hhc0luaXQ9dHJ1ZScKICAgIC8vIHJvdXRlci5yZXBsYWNlKHsKICAgIC8vICAgcGF0aDogIi9ob21lIiwKICAgIC8vICAgcXVlcnk6IHsKICAgIC8vICAgICBoYXNJbml0OiB0cnVlLAogICAgLy8gICB9LAogICAgLy8gfSk7CiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvaW5kZXguaHRtIjsgLy8gfSkKCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpOwogIH0gZWxzZSB7CiAgICBNZXNzYWdlKHsKICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICLlh7rnjrDplJnor6/vvIzor7fnqI3lkI7lho3or5UiLAogICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpOwogIH0KfTsgLy8g5Yib5bu6YXhpb3Plrp7kvosKCgpjb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgLy8gYXhpb3PkuK3or7fmsYLphY3nva7mnIliYXNlVVJM6YCJ6aG577yM6KGo56S66K+35rGCVVJM5YWs5YWx6YOo5YiGCiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTCwKICAvLyDotoXml7YKICB0aW1lb3V0OiAiMTAwMDAiIC8vIDEwMDAwCgp9KTsKLyoqCiAqIOivt+axguaLpuaIquWZqAogKi8KCmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShhc3luYyBjb25maWcgPT4gewogIGlmIChjb25maWcubWV0aG9kID09ICJwb3N0IikgewogICAgY29uZmlnLmRhdGEgPSB7IC4uLmNvbmZpZy5kYXRhCiAgICB9OwogIH0gZWxzZSBpZiAoY29uZmlnLm1ldGhvZCA9PSAiZ2V0IikgewogICAgY29uZmlnLnBhcmFtcyA9IHsgLi4uY29uZmlnLnBhcmFtcwogICAgfTsKICB9CgogIGNvbmZpZy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA9IGNvbmZpZy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA/IGNvbmZpZy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiOyAvLyDlvoXliKDpmaQKICAvLyBjb25maWcuaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0KICAvLyAgICJCZWFyZXIiICsKICAvLyAgICIgIiArCiAgLy8gICAiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SmhkV1FpT2lKM1pXSWlMQ0pwYzNNaU9pSnpiV0Z5ZEMxallXSnBibVYwSWl3aVpYaHdJam94TmpZME1UWXlNakkwTENKMWMyVnlTV1FpT2lKak1tUXdNMlEyTmpKbVl6WTVORGxoWXpJeVpEQTJOVEl3T1RBeE1XSTFaQ0lzSW1saGRDSTZNVFkyTkRFMU9EWXlOQ3dpYW5ScElqb2lPV1U0WlRCbE1XTTVOVGcxTkRnM09HSTFZbUkzWkRKa056Y3lOR1U1WVRraWZRLi0tc1VMRzhsdGhhOWhqb0lLX2tpZll2VklYLVgtSGhjYXR4V2dSWllvTnciOwoKICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiBQcm9taXNlLmVycm9yKGVycm9yKSk7IC8vIOWTjeW6lOaLpuaIquWZqAoKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSggLy8g6K+35rGC5oiQ5YqfCnJlcyA9PiB7CiAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgaWYgKHJlcy5kYXRhLmNvZGUgIT0gMjAwKSB7CiAgICAgIE1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlcy5kYXRhKTsKICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT09IDIxMSkgewogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXMuZGF0YSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZGF0YSk7CiAgfQp9LCAvLyDor7fmsYLlpLHotKUKZXJyb3IgPT4gewogIGxldCB7CiAgICByZXNwb25zZSwKICAgIG1lc3NhZ2UKICB9ID0gZXJyb3I7CgogIGlmIChyZXNwb25zZSkgewogICAgZXJyb3JIYW5kbGUocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZSk7CiAgfSBlbHNlIHsKICAgIGlmICghd2luZG93Lm5hdmlnYXRvci5vbkxpbmUpIHsKICAgICAgY29uc29sZS5sb2coMTIzKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChtZXNzYWdlID09ICJOZXR3b3JrIEVycm9yIikgewogICAgICAgIG1lc3NhZ2UgPSAi5pyN5Yqh5Zmo6L+e5o6l5byC5bi477yM6K+36IGU57O7566h55CG5ZGYIjsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmluY2x1ZGVzKCJ0aW1lb3V0IikpIHsKICAgICAgICBtZXNzYWdlID0gIuezu+e7n+aOpeWPo+ivt+axgui2heaXtiI7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSIpKSB7CiAgICAgICAgbWVzc2FnZSA9ICLns7vnu5/mjqXlj6MiICsgbWVzc2FnZS5zdWJzdHIobWVzc2FnZS5sZW5ndGggLSAzKSArICLlvILluLgiOwogICAgICB9CgogICAgICBNZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgfSk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7"},{"version":3,"names":["axios","Message","errorHandle","status","response","window","location","href","Promise","reject","message","data","type","duration","instance","create","baseURL","process","env","VUE_APP_BASE_URL","timeout","interceptors","request","use","config","method","params","headers","error","res","code","resolve","navigator","onLine","console","log","includes","substr","length"],"sources":["/Users/xsk-walter/Shjy/box-thunk/src/utils/request.js"],"sourcesContent":["/**\n * axios封装\n * 请求拦截、响应拦截、错误统一处理\n */\nimport axios from \"axios\";\nimport { Message } from \"element-ui\";\n// import router from \"@/router\";\n// import { getToken, setToken } from '@/utils/auth'\n\n/**\n * 请求失败后的错误统一处理\n * @param {Number} status 请求失败的状态码\n */\nconst errorHandle = (status, response) => {\n  // 状态码判断\n  if (status == 401) {\n    // 401: token失效，跳转登录页\n    // store.dispatch('LogOut').then(() => {\n    // location.href = '/#/home?hasInit=true'\n    // router.replace({\n    //   path: \"/home\",\n    //   query: {\n    //     hasInit: true,\n    //   },\n    // });\n    window.location.href = \"/index.htm\";\n    // })\n    return Promise.reject(response);\n  } else {\n    Message({\n      message: response.data.message || \"出现错误，请稍后再试\",\n      type: \"warning\",\n      duration: 5 * 1000,\n    });\n    return Promise.reject(response);\n  }\n};\n// 创建axios实例\nconst instance = axios.create({\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\n  baseURL: process.env.VUE_APP_BASE_URL,\n  // 超时\n  timeout: \"10000\",\n  // 10000\n});\n/**\n * 请求拦截器\n */\ninstance.interceptors.request.use(\n  async (config) => {\n    if (config.method == \"post\") {\n      config.data = {\n        ...config.data,\n      };\n    } else if (config.method == \"get\") {\n      config.params = {\n        ...config.params,\n      };\n    }\n    config.headers[\"Content-Type\"] = config.headers[\"Content-Type\"]\n      ? config.headers[\"Content-Type\"]\n      : \"application/json;charset=UTF-8\";\n\n    // 待删除\n    // config.headers[\"Authorization\"] =\n    //   \"Bearer\" +\n    //   \" \" +\n    //   \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJ3ZWIiLCJpc3MiOiJzbWFydC1jYWJpbmV0IiwiZXhwIjoxNjY0MTYyMjI0LCJ1c2VySWQiOiJjMmQwM2Q2NjJmYzY5NDlhYzIyZDA2NTIwOTAxMWI1ZCIsImlhdCI6MTY2NDE1ODYyNCwianRpIjoiOWU4ZTBlMWM5NTg1NDg3OGI1YmI3ZDJkNzcyNGU5YTkifQ.--sULG8ltha9hjoIK_kifYvVIX-X-HhcatxWgRZYoNw\";\n\n    return config;\n  },\n  (error) => Promise.error(error)\n);\n\n// 响应拦截器\ninstance.interceptors.response.use(\n  // 请求成功\n  (res) => {\n    if (res.status === 200) {\n      if (res.data.code != 200) {\n        Message({\n          message: res.data.message,\n          type: \"warning\",\n          duration: 5 * 1000,\n        });\n      }\n      return Promise.resolve(res.data);\n    } else if (res.status === 211) {\n      return Promise.resolve(res.data);\n    } else {\n      return Promise.reject(res.data);\n    }\n  },\n  // 请求失败\n  (error) => {\n    let { response, message } = error;\n    if (response) {\n      errorHandle(response.status, response);\n    } else {\n      if (!window.navigator.onLine) {\n        console.log(123);\n      } else {\n        if (message == \"Network Error\") {\n          message = \"服务器连接异常，请联系管理员\";\n        } else if (message.includes(\"timeout\")) {\n          message = \"系统接口请求超时\";\n        } else if (message.includes(\"Request failed with status code\")) {\n          message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n        }\n        Message({\n          message: message,\n          type: \"warning\",\n          duration: 5 * 1000,\n        });\n        return Promise.reject(error);\n      }\n    }\n  }\n);\n\nexport default instance;\n"],"mappings":"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"}]}